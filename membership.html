<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Member Dashboard - Prekebena Family Dynasty</title>
<link rel="stylesheet" href="styles.css">
<style>
    body { font-family:"Inter", sans-serif; margin:0; padding:0; background:#f8f9fc; }
    .container { max-width:600px; margin:50px auto; background:white; padding:25px; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);}
    h2 { text-align:center; color:#022c43; margin-bottom:20px; }
    .profile { text-align:center; margin-bottom:20px; }
    .profile img { width:120px; height:120px; border-radius:50%; object-fit:cover; margin-bottom:10px; }
    .profile p { margin:5px 0; font-weight:600; }
    .member-info { margin-top:20px; }
    .member-info div { margin-bottom:10px; }
    .logout-btn { display:block; width:100%; padding:12px; background:#ff4d4f; border:none; border-radius:6px; color:white; font-weight:bold; cursor:pointer; text-align:center; margin-top:20px; }
    .logout-btn:hover { background:#e04344; }
    .date-display { text-align:center; margin-top:10px; font-weight:bold; }
</style>
</head>
<body>

<div class="container">
    <h2>Welcome to Your Dashboard</h2>
    <div class="profile">
        <img id="profileImage" src="" alt="Profile Picture">
        <p id="memberName"></p>
        <p id="memberEmail"></p>
        <p id="memberPhone"></p>
    </div>

    <div class="member-info">
        <div><strong>Role:</strong> <span id="memberRole"></span></div>
    </div>

    <div class="date-display">
        Today's Date: <span id="ng-date"></span>
    </div>

    <button class="logout-btn" id="logoutBtn">Logout</button>
</div>

<script>
    // Get member data from sessionStorage
    const memberData = JSON.parse(sessionStorage.getItem("memberData"));
    if(!memberData){
        // Redirect to login if no session
        window.location.href = "login.html";
    } else {
        document.getElementById("memberName").innerText = memberData.name;
        document.getElementById("memberEmail").innerText = memberData.email;
        document.getElementById("memberPhone").innerText = memberData.phone;
        document.getElementById("memberRole").innerText = memberData.role;
        document.getElementById("profileImage").src = memberData.image || "assets/WhatsApp Image 2025-12-10 at 11.28.12 AM.jpeg";
    }

    // Nigerian Date Display
    const options = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric', 
        timeZone: 'Africa/Lagos' 
    };
    document.getElementById("ng-date").innerText =
        new Date().toLocaleDateString("en-NG", options);

    // Logout
    document.getElementById("logoutBtn").addEventListener("click", () => {
        sessionStorage.removeItem("memberData");
        window.location.href = "login.html";
    });
</script>

</body>
</html>
